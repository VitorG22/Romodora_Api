// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id        String      @id @default(uuid())
  email     String      @unique
  name      String
  password  String
  picture   String?
  Character Character[]
  // ActiveGame ActiveGame?
  Item      Item[]
  Map       Map[]
}

model RegisterCode {
  id       String @id @default(uuid())
  code     String
  email    String @unique
  password String
  name     String
}

model Character {
  name         String
  id           String @id @default(uuid())
  picture      String
  class        String
  subClass     String
  race         String
  subRace      String
  strength     Int
  dexterity    Int
  constitution Int
  intelligence Int
  wisdom       Int
  charisma     Int
  level        Int
  life         Int
  maxLife      Int
  ownerId      String
  inventory    String @default("")
  User         User   @relation(fields: [ownerId], references: [id])
}

model Map {
  id          String   @id @default(uuid())
  description String
  name        String
  lastModify  DateTime
  sizeX       Int
  sizeY       Int
  layers      Json
  ownerId     String
  User        User     @relation(fields: [ownerId], references: [id])
}

model Item {
  id       String @id @default(uuid())
  type     String
  ownerId  String
  name     String
  fullData Json

  User User @relation(fields: [ownerId], references: [id])
}
